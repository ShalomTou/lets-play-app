<StackLayout>
  <StackLayout height="20%" class="title">
    <Label class="title" text="Choose Activity"></Label>
    <FlexboxLayout flexDirection="row">
      <Image
        class="f-s-48"
        (tap)="getUsersByActivity(1)"
        flexGrow="1"
        src="res://basketball"
        width="70"
        height="70"
        [ngClass]="imageTyped === 1 ? 'image-active' : ''"
      ></Image>
      <Image
        (tap)="getUsersByActivity(2)"
        flexGrow="1"
        src="res://football"
        width="70"
        height="70"
        [ngClass]="imageTyped === 2 ? 'image-active' : ''"
      ></Image>
      <Image
        (tap)="getUsersByActivity(3)"
        flexGrow="1"
        src="res://running"
        width="70"
        height="70"
        [ngClass]="imageTyped === 3 ? 'image-active' : ''"
      ></Image>
      <Image
        (tap)="getUsersByActivity(4)"
        flexGrow="1"
        src="res://swimmer"
        width="70"
        height="70"
        [ngClass]="imageTyped === 4 ? 'image-active' : ''"
      ></Image>
    </FlexboxLayout>
  </StackLayout>
  <StackLayout height="60%">
    <MapView
      #mapView
      [latitude]="latitude"
      [longitude]="longitude"
      [zoom]="zoom"
      [minZoom]="minZoom"
      [maxZoom]="maxZoom"
      [bearing]="bearing"
      [tilt]="tilt"
      i-padding="50,50,50,50"
      [padding]="padding"
      (mapReady)="onMapReady($event)"
      (markerSelect)="onMarkerEvent($event)"
      (markerBeginDragging)="onMarkerEvent($event)"
      (markerEndDragging)="onMarkerEvent($event)"
      (markerDrag)="onMarkerEvent($event)"
      (markerInfoWindowTapped)="onMarkerEvent($event)"
      (coordinateTapped)="onCoordinateTapped($event)"
      (cameraChanged)="onCameraChanged($event)"
      (cameraMove)="onCameraMove($event)"
    ></MapView>
  </StackLayout>
  <StackLayout height="20%" class="title">
    <Label text="Potential Users For Chosen Activity"></Label>
    <ListView
      [items]="usersAvailableByActivity"
      *ngIf="usersAvailableByActivity.length"
      style="height: 1250px"
    >
      <ng-template let-user="item" let-uid="uid">
        <FlexboxLayout
          flexDirection="row"
          justifyContent="space-between"
          [nsRouterLink]="['/chat-user', user.user]"
        >
          <Image src="res://user" class="thumb img-circle"> </Image>
          <Label
            [text]="getUserNames(user.user)"
            class="t-12 color-black"
            TextAlignment="right"
          ></Label>
        </FlexboxLayout>
      </ng-template>
    </ListView>
    <Label
      text="No Users Availale"
      *ngIf="!usersAvailableByActivity.length"
    ></Label>
  </StackLayout>
</StackLayout>
